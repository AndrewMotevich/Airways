import { Component, Input } from '@angular/core';
import dayjs from 'dayjs';

@Component({
  selector: 'app-ticket-date-slider',
  templateUrl: './ticket-date-slider.component.html',
  styleUrls: ['./ticket-date-slider.component.scss'],
})
export class TicketDateSliderComponent {
  @Input() arrivalDate: string = '2020-01-10';

  @Input() departureDate: string = '2020-01-15';

  boundColor: string = 'rgb(255, 153, 0)';

  ticketsData = [
    { date: '2020-01-01', cost: '100.00' },
    { date: '2020-01-02', cost: '102.50' },
    { date: '2020-01-03', cost: '98.20' },
    { date: '2020-01-04', cost: '99.75' },
    { date: '2020-01-05', cost: '101.00' },
    { date: '2020-01-06', cost: '97.50' },
    { date: '2020-01-08', cost: '99.80' },
    { date: '2020-01-08', cost: '98.75' },
    { date: '2020-01-08', cost: '102.00' },
    { date: '2020-01-10', cost: '104.50' },
    { date: '2020-01-11', cost: '101.25' },
    { date: '2020-01-12', cost: '99.90' },
    { date: '2020-01-13', cost: '102.80' },
    { date: '2020-01-14', cost: '100.50' },
    { date: '2020-01-15', cost: '98.60' },
    { date: '2020-01-16', cost: '103.10' },
    { date: '2020-01-17', cost: '105.40' },
    { date: '2020-01-18', cost: '107.25' },
    { date: '2020-01-19', cost: '108.00' },
    { date: '2020-01-20', cost: '107.50' },
    { date: '2020-01-21', cost: '110.00' },
    { date: '2020-01-22', cost: '111.20' },
    { date: '2020-01-23', cost: '113.10' },
    { date: '2020-01-24', cost: '112.50' },
    { date: '2020-01-25', cost: '110.80' },
    { date: '2020-01-26', cost: '108.90' },
    { date: '2020-01-27', cost: '107.20' },
    { date: '2020-01-28', cost: '105.50' },
    { date: '2020-01-29', cost: '104.75' },
    { date: '2020-01-30', cost: '102.80' },
    { date: '2020-01-31', cost: '100.60' },
    { date: '2020-02-01', cost: '99.50' },
    { date: '2020-02-02', cost: '98.75' },
    { date: '2020-02-03', cost: '97.50' },
    { date: '2020-02-04', cost: '95.25' },
    { date: '2020-02-05', cost: '94.50' },
    { date: '2020-02-06', cost: '93.75' },
    { date: '2020-02-07', cost: '92.50' },
    { date: '2020-02-08', cost: '91.80' },
    { date: '2020-02-09', cost: '90.60' },
    { date: '2020-02-10', cost: '91.50' },
    { date: '2020-02-11', cost: '92.80' },
    { date: '2020-02-12', cost: '94.00' },
    { date: '2020-02-13', cost: '95.25' },
    { date: '2020-02-14', cost: '96.50' },
    { date: '2020-02-15', cost: '97.80' },
    { date: '2020-02-16', cost: '99.10' },
    { date: '2020-02-17', cost: '100.50' },
    { date: '2020-02-18', cost: '101.75' },
    { date: '2020-02-19', cost: '103.00' },
    { date: '2020-02-20', cost: '104.50' },
    { date: '2020-02-21', cost: '105.75' },
    { date: '2020-02-22', cost: '107.00' },
    { date: '2020-02-23', cost: '108.25' },
    { date: '2020-02-24', cost: '109.50' },
    { date: '2020-02-25', cost: '110.75' },
    { date: '2020-02-26', cost: '111.50' },
    { date: '2020-02-27', cost: '112.25' },
    { date: '2020-02-28', cost: '113.00' },
    { date: '2020-02-29', cost: '114.00' },
    { date: '2020-03-01', cost: '115.00' },
    { date: '2020-03-02', cost: '116.00' },
    { date: '2020-03-03', cost: '117.00' },
    { date: '2020-03-04', cost: '118.00' },
    { date: '2020-03-05', cost: '119.00' },
    { date: '2020-03-06', cost: '120.00' },
    { date: '2020-03-07', cost: '121.00' },
    { date: '2020-03-08', cost: '122.00' },
    { date: '2020-03-09', cost: '123.00' },
    { date: '2020-03-10', cost: '124.00' },
    { date: '2020-03-11', cost: '125.00' },
    { date: '2020-03-12', cost: '126.00' },
    { date: '2020-03-13', cost: '127.00' },
    { date: '2020-03-14', cost: '128.00' },
    { date: '2020-03-15', cost: '129.00' },
    { date: '2020-03-16', cost: '130.00' },
    { date: '2020-03-17', cost: '131.00' },
    { date: '2020-03-18', cost: '132.00' },
    { date: '2020-03-19', cost: '133.00' },
    { date: '2020-03-20', cost: '134.00' },
    { date: '2020-03-21', cost: '135.00' },
    { date: '2020-03-22', cost: '136.00' },
    { date: '2020-03-23', cost: '137.00' },
    { date: '2020-03-24', cost: '138.00' },
    { date: '2020-03-25', cost: '139.00' },
    { date: '2020-03-26', cost: '140.00' },
    { date: '2020-03-27', cost: '141.00' },
    { date: '2020-03-28', cost: '142.00' },
    { date: '2020-03-29', cost: '143.00' },
    { date: '2020-03-30', cost: '144.00' },
    { date: '2020-03-31', cost: '145.00' },
    { date: '2020-04-01', cost: '146.00' },
    { date: '2020-04-02', cost: '147.00' },
    { date: '2020-04-03', cost: '148.00' },
    { date: '2020-04-04', cost: '149.00' },
    { date: '2020-04-05', cost: '150.00' },
    { date: '2020-04-06', cost: '151.00' },
    { date: '2020-04-07', cost: '152.00' },
    { date: '2020-04-08', cost: '153.00' },
    { date: '2020-04-09', cost: '154.00' },
    { date: '2020-04-10', cost: '155.00' },
    { date: '2020-04-11', cost: '156.00' },
    { date: '2020-04-12', cost: '157.00' },
    { date: '2020-04-13', cost: '158.00' },
    { date: '2020-04-14', cost: '159.00' },
    { date: '2020-04-15', cost: '160.00' },
    { date: '2020-04-16', cost: '161.00' },
    { date: '2020-04-17', cost: '162.00' },
    { date: '2020-04-18', cost: '163.00' },
    { date: '2020-04-19', cost: '164.00' },
    { date: '2020-04-20', cost: '165.00' },
    { date: '2020-04-21', cost: '166.00' },
  ];

  arrivalDates: { date: string; cost: string | null }[] = [];

  constructor() {
    const dates = [
      dayjs(this.arrivalDate).subtract(2, 'day'),
      dayjs(this.arrivalDate).subtract(1, 'day'),
      dayjs(this.arrivalDate),
      dayjs(this.arrivalDate).add(1, 'day'),
      dayjs(this.arrivalDate).add(2, 'day'),
    ];

    this.arrivalDates = dates.map((date) => {
      const ticket = this.ticketsData.find((t) => t.date === date.format('YYYY-MM-DD'));
      return { date: date.format('DD MMM dddd'), cost: ticket ? ticket.cost : null };
    });
  }
}
